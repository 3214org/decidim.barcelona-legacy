<h2><%= t("revision.action_plans.index.title") %></h2>

<div class="row">
  <div class="small-8 column">
    <%= render "shared/search_form",
               search_path: revision_action_plans_path(page: 1),
               i18n_namespace: "revision.action_plans.index.search_form" %>
  </div>
  <div class="small-4 column">
    <%= link_to t("action_plans.index.new"), new_revision_action_plan_path, class: 'button radius expand' %>
  </div>
</div>

<table class="clear">
  <tr>
    <th>
      <%= t("revision.action_plans.index.headers.action") %>
    </th>
    <th>
      Actions
    </th>
  </tr>
  <% @resources.each do |action| %>
    <tr id="<%= dom_id(action) %>">
      <td>
        <%= link_to action.title, edit_revision_action_plan_path(action) %>
        <br />

        <span class="date"><%= action.current_revision.created_at %></span>
        <span class="bullet">&nbsp;&bull;&nbsp;</span>
        <%= action.current_revision.author.username %>

        <br />
        <br />

        <div>
          <%= action.description.html_safe %>
        </div>
      </td>
      <td>
        <%= link_to t("action_plans.index.revisions"), revision_action_plan_revisions_path(action), class: 'button radius tiny secondary' %>
        <%= link_to t("action_plans.index.edit"), edit_revision_action_plan_path(action), class: 'button radius tiny secondary' %>
        <%= link_to t('action_plans.index.delete'), revision_action_plan_path(action), method: :delete,  class: "button tiny radius alert", data: { confirm: t('admin.actions.confirm') } %>
      </td>
    </tr>
  <% end %>
</table>

<%= paginate @resources %>
